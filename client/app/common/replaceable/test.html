<!doctype html>
<html lang="en">
  <head>
    <link   href="test.css" rel="stylesheet" type="text/css" >
    <script type="text/javascript">
	   function onVidyoClientLoaded(status) {
      console.log("Status: " + status.state + "Description: " + status.description);
      VC.CreateVidyoConnector({
            viewId: "renderer", // Div ID where the composited video will be rendered, see VidyoConnectorSample.html
            viewStyle: "VIDYO_CONNECTORVIEWSTYLE_Default", // Visual style of the composited renderer
            remoteParticipants: 16,     // Maximum number of participants
            logFileFilter: "warning info@VidyoClient info@VidyoConnector",
            logFileName:"",
            userData:""
        }).then(function(vc) {
            console.log("CreateVidyoConnector success");
        }).catch(function(err) {
            console.error("CreateVidyoConnector Failed " + err);
        });
    }

    function loadVidyoClientLibrary() {
		    //We need to ensure we're loading the VidyoClient library and listening for the callback.
		      var script = document.createElement('script');
          var webrtc = true;
          var plugin = false;
		      script.type = 'text/javascript';
		      script.src = 'https://static.vidyo.io/4.1.11.4/javascript/VidyoClient/VidyoClient.js?onload=onVidyoClientLoaded&webrtc=' + webrtc + '&plugin=' + plugin;
		      document.getElementsByTagName('head')[0].appendChild(script);
	  }
    </script>

  </head>
  <body>

    <div id="renderer" ></div>
    <button onclick="loadVidyoClientLibrary()">load me</button>

  </body>
</html>
