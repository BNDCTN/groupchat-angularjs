webpackJsonp([0],{0:function(e,exports,t){t(1),e.exports=t(298)},298:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=t(299),s=n(o),i=t(301),a=n(i),r=t(387),c=n(r),l=t(436),d=n(l),u=t(443),f=n(u);t(447),s.default.module("app",[a.default,c.default,d.default]).config(["$locationProvider",function(e){"ngInject";e.html5Mode(!0).hashPrefix("!")}]).component("app",f.default)},387:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(299),s=n(o),i=t(388),a=n(i),r=t(416),c=n(r),l=t(422),d=n(l),u=t(428),f=n(u),m=t(434),p=n(m),v=s.default.module("app.common",[a.default,c.default,d.default,f.default,p.default]).name;exports.default=v},388:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(299),s=n(o),i=t(301),a=n(i),r=t(389),c=n(r),l=s.default.module("sidebar",[a.default]).component("sidebar",c.default).name;exports.default=l},389:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(390),s=n(o),i=t(391),a=n(i);t(412);var r={restrict:"E",bindings:{users:"=",onOpenChat:"&"},template:s.default,controller:a.default};exports.default=r},390:function(e,exports){e.exports='<div class="sidebar-view pull-left">\n  <div class="p-l-15 p-r-15 logo">\n      <h3></h3>\n  </div>\n  <div>\n    <hr>\n      <center>Live Video</center>\n    <hr>\n  </div>\n  <div class="control-button">\n    <button class="btn btn-default btn-control" ng-click="$ctrl.toggleCamera()">\n        <img src="{{$ctrl.muteCamera? \'/assets/icons/camera_off.svg\' : \'/assets/icons/camera.svg\'}}"/>\n    </button>\n    <button class="btn btn-default btn-control" ng-click="$ctrl.toggleMic()">\n        <img src="{{$ctrl.muteMic? \'/assets/icons/mic_off.svg\' : \'/assets/icons/mic.svg\'}}"/>\n    </button>\n      <button class="btn btn-default btn-control" ng-disabled="$ctrl.isWorking" ng-click="$ctrl.toggleConnect()">\n          <img src="{{$ctrl.isConnected? \'/assets/icons/disconnect.svg\' : \'/assets/icons/connect.png\'}}"/>\n      </button>\n  </div>\n  <hr>\n    <div class="participant-list">\n      <div class="p-l-15 p-r-15">\n          <h4>Participants</h4>\n      </div>\n      <hr>\n        <div class="p-l-15 p-r-15" ng-if="$ctrl.users.length == 0">\n            <p>No users</p>\n        </div>\n        <ul class="list-unstyled participants">\n            <li ng-repeat="user in $ctrl.users">{{user.name}}</li>\n        </ul>\n    </div>\n    <div class="bottom-view">\n      <hr>\n      <div class="p-l-15 p-r-15">\n      <button class="btn btn-default btn-chat" ng-click="$ctrl.openChatWindow()">\n          <img src="{{\'/assets/icons/chat.png\'}}"/>\n      </button>\n      </div>\n      <!-- <a href class="open-chat" ng-click="$ctrl.openChatWindow()"><i class="fa fa-comment-o"></i></a> -->\n    </div>\n</div>\n'},391:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(392),s=n(o),i=t(393),a=n(i),r=function(){function e(t,n){(0,s.default)(this,e),this.$rootScope=t,this.$timeout=n,this.isConnected=!1,this.muteCamera=!1,this.muteMic=!1,this.isWorking=!1,this.updateConnectedStatus()}return(0,a.default)(e,[{key:"updateConnectedStatus",value:function(){var e=this;this.$rootScope.$on("connectedStatus",function(t,n){e.$timeout(function(){e.isWorking=!1,e.isConnected=n.isConnected})})}},{key:"openChatWindow",value:function(){this.onOpenChat()}},{key:"toggleConnect",value:function(){this.isConnected?(this.isWorking=!0,this.$rootScope.$broadcast("connection:off")):(this.isWorking=!0,this.$rootScope.$broadcast("connection:on"))}},{key:"toggleMic",value:function(){this.muteMic?this.$rootScope.$broadcast("micMute:off"):this.$rootScope.$broadcast("micMute:on"),this.muteMic=!this.muteMic}},{key:"toggleCamera",value:function(){this.muteCamera?this.$rootScope.$broadcast("micCamera:off"):this.$rootScope.$broadcast("micCamera:on"),this.muteCamera=!this.muteCamera}}]),e}();r.$inject=["$rootScope","$timeout"],exports.default=r},412:function(e,exports,t){var n=t(413);"string"==typeof n&&(n=[[e.id,n,""]]);t(415)(n,{});n.locals&&(e.exports=n.locals)},413:function(e,exports,t){exports=e.exports=t(414)(),exports.push([e.id,"@import url(http://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body{height:100%;font-family:Roboto,sans-serif}.sidebar-view{width:20%;height:100vh;border-right:1px solid #eee;position:relative;z-index:1}.sidebar-view hr{margin-top:.5em;margin-bottom:.5em}.sidebar-view .btn-chat{position:absolute;right:15px}.sidebar-view .btn-chat img{width:25px}.sidebar-view .bottom-view{position:absolute;bottom:20px;height:50px;width:100%}.btn-control img{width:25px}.control-button{padding-left:60px;padding-right:50px}.a-center{align-content:center;position:relative}.p-l-15{padding-left:15px}.p-r-15{padding-right:15px}.p-t-15{padding-top:5px}ul.participants li{padding:15px;border-bottom:1px solid #eee}.logo{width:auto;height:50px;background:url(https://www.tricitiesbusinessnews.com/wp-content/uploads/2016/03/Kaiser.jpg) no-repeat 50%;background-size:75% 100%}",""])},416:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(299),s=n(o),i=t(301),a=n(i),r=t(417),c=n(r),l=s.default.module("replaceable",[a.default]).component("replaceable",c.default).name;exports.default=l},417:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(418),s=n(o),i=t(419),a=n(i);t(420);var r={restrict:"E",bindings:{onAddUser:"&",onRemoveUser:"&",onSendMessage:"&",isChatOpened:"="},template:s.default,controller:a.default};exports.default=r},418:function(e,exports){e.exports='  <div class="replaceable-view container-fluid" ng-class="{expanded: !$ctrl.isChatOpened}">\n    <h3>Replaceable test area -</h3>\n    <div class="row">\n      <div class="col-sm-6">\n        <h4>Participant</h4>\n        <form name="participantForm" class="form-horizontal">\n          <div class="form-group">\n            <label class="control-label col-sm-2">Id:</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" name="id" ng-model="$ctrl.user.id" ng-required="true"/>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="control-label col-sm-2">Name:</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" name="name" ng-model="$ctrl.user.name" ng-required="true"/>\n            </div>\n          </div>\n          <div class="form-group"> \n            <div class="col-sm-12 text-right">\n              <button type="button" class="btn btn-primary" ng-disabled="participantForm.$invalid" ng-click="$ctrl.addNewUser()">Add</button>\n              <button type="button" class="btn btn-danger" ng-disabled="participantForm.$invalid" ng-click="$ctrl.removeUser()">Remove</button>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class="col-sm-6">\n        <h4>Remote Message</h4>\n        <form name="messageForm" class="form-horizontal">\n          <div class="form-group">\n            <label class="control-label col-sm-2">Id:</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" name="id" ng-model="$ctrl.messageInfo.id" ng-required="true"/>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="control-label col-sm-2">Name:</label>\n            <div class="col-sm-10">\n              <input type="text" class="form-control" name="name" ng-model="$ctrl.messageInfo.name" ng-required="true"/>\n            </div>\n          </div>\n          <div class="form-group">\n            <label class="control-label col-sm-2">Message:</label>\n            <div class="col-sm-10">\n              <textarea class="form-control" name="content" ng-model="$ctrl.messageInfo.content" ng-required="true" rows="4"></textarea>\n            </div>\n          </div>\n          <div class="form-group"> \n            <div class="col-sm-12 text-right">\n              <button type="button" class="btn btn-primary" ng-disabled="messageForm.$invalid" ng-click="$ctrl.sendMessage()">Send</button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>'},419:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(392),s=n(o),i=t(393),a=n(i),r=function(){function e(){(0,s.default)(this,e),this.user={},this.messageInfo={}}return(0,a.default)(e,[{key:"addNewUser",value:function(){this.onAddUser(this.user),this.user={}}},{key:"removeUser",value:function(){this.onRemoveUser(this.user),this.user={}}},{key:"sendMessage",value:function(){this.onSendMessage(this.messageInfo),this.messageInfo={}}}]),e}();exports.default=r},420:function(e,exports,t){var n=t(421);"string"==typeof n&&(n=[[e.id,n,""]]);t(415)(n,{});n.locals&&(e.exports=n.locals)},421:function(e,exports,t){exports=e.exports=t(414)(),exports.push([e.id,".replaceable-view{height:50vh;overflow:auto}.replaceable-view.expanded{height:auto}",""])},422:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(299),s=n(o),i=t(301),a=n(i),r=t(423),c=n(r),l=s.default.module("messageview",[a.default]).component("messageView",c.default).name;exports.default=l},423:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(424),s=n(o),i=t(425),a=n(i);t(426);var r={restrict:"E",bindings:{messages:"=",onCloseChat:"&",onSendMessage:"&"},template:s.default,controller:a.default};exports.default=r},424:function(e,exports){e.exports='<div class="message-view container-fluid">\n  <h3>Messages</h3>\n  <div class="messages">\n    <p class="no-messages text-muted" ng-if="$ctrl.messages.length == 0">No messages</p>\n    <div ng-repeat="message in $ctrl.messages">\n      <div class="card" ng-class="{\'pull-left\': message.id, \'pull-right\': !message.id}">\n        <h5 ng-if="message.name"><strong>{{message.name}}:</strong></h5>\n        <p>{{message.content}}</p>\n      </div>\n    </div>\n  </div>\n  <form name="messageBoxForm" class="message-box">\n    <input type="text" name="message" class="form-control" placeholder="Type message here..." ng-model="$ctrl.messageInfo.content" ng-required="true"/>\n    <button type="button" class="btn btn-primary" ng-disabled="messageBoxForm.$invalid" ng-click="$ctrl.sendMessage()">Send</button>\n  </form>\n  <a href class="close-chat" ng-click="$ctrl.closeChatWindow()"><i class="fa fa-times"></i></a>\n</div>\n'},425:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(392),s=n(o),i=t(393),a=n(i),r=function(){function e(t){(0,s.default)(this,e),this.$rootScope=t,this.name="messageview",this.messageInfo={}}return(0,a.default)(e,[{key:"closeChatWindow",value:function(){this.onCloseChat()}},{key:"sendMessage",value:function(){this.$rootScope.vidyoConnector?(this.$rootScope.vidyoConnector.SendChatMessage(this.messageInfo.content),this.onSendMessage(this.messageInfo),this.messageInfo={}):alert("You are not connected to Group chat yet!")}}]),e}();r.$inject=["$rootScope"],exports.default=r},426:function(e,exports,t){var n=t(427);"string"==typeof n&&(n=[[e.id,n,""]]);t(415)(n,{});n.locals&&(e.exports=n.locals)},427:function(e,exports,t){exports=e.exports=t(414)(),exports.push([e.id,".message-view{position:relative;border-top:1px solid #eee;height:40vh;overflow:auto;box-shadow:0 -3px 5px 0 #aaa}.message-view .close-chat{position:absolute;top:15px;font-size:20px;color:#555;right:15px}.message-view .messages{height:calc(40vh - 115px);border:1px solid #eee;overflow-y:auto;position:relative;padding:10px}.message-view .messages .no-messages{position:absolute;top:0;bottom:0;left:0;right:0;display:inline-flex;justify-content:center;align-items:center}.message-view .messages>div{clear:both}.message-view .messages>div .card{width:200px;padding:7px;background-color:#f5f5f5;border:1px solid #ddd;border-radius:7px;margin-bottom:10px}.message-view .messages>div .card>h5{margin:0 0 5px}.message-view .messages>div .card>p{margin:0}.message-view .message-box{padding:10px;border:1px solid #eee;display:inline-flex;width:100%;background-color:#f5f5f5}.message-view .message-box input{margin-right:10px}",""])},428:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(299),s=n(o),i=t(429),a=n(i),r=s.default.module("videorenderer",[]).component("videoRenderer",a.default).name;exports.default=r},429:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(430),s=n(o),i=t(431),a=n(i);t(432);var r={restrict:"E",bindings:{isChatOpened:"=",onAddUser:"&",onRemoveUser:"&",onSendMessage:"&"},template:s.default,controller:a.default};exports.default=r},430:function(e,exports){e.exports='<div class="video-area container-fluid" ng-class="{expanded: !$ctrl.isChatOpened}">\n  <div id="renderer"></div>\n</div>\n'},431:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(392),s=n(o),i=t(393),a=n(i),r=function(){function e(t,n){(0,s.default)(this,e),this.$timeout=t,this.$rootScope=n,this.listenEvent(),this.listenConnectionChangeOrder()}return(0,a.default)(e,[{key:"listenConnectionChangeOrder",value:function(){var e=this;this.$rootScope.$on("connection:on",function(){e.$rootScope.vidyoConnector?e.connectVidyo(e.$rootScope.vidyoConnector):e.loadVidyoClientLibrary()}),this.$rootScope.$on("connection:off",function(){e.disconnectVidyo(e.$rootScope.vidyoConnector)})}},{key:"listenEvent",value:function(){var e=this;document.addEventListener("vidyoclient:ready",function(t){e.renderVideo(t.detail)})}},{key:"renderVideo",value:function(e){var t=this;this.$timeout(function(){e.CreateVidyoConnector({viewId:"renderer",viewStyle:"VIDYO_CONNECTORVIEWSTYLE_Default",remoteParticipants:16,logFileFilter:"warning all@VidyoConnector info@VidyoClient",logFileName:"",userData:""}).then(function(e){t.$rootScope.vidyoConnector=e,t.connectVidyo(e)}).catch(function(){console.error("CreateVidyoConnector Failed")})})}},{key:"loadVidyoClientLibrary",value:function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://static.vidyo.io/4.1.11.4/javascript/VidyoClient/VidyoClient.js?onload=onVidyoClientLoaded",document.getElementsByTagName("head")[0].appendChild(e)}},{key:"disconnectVidyo",value:function(e){e.Disconnect()}},{key:"connectVidyo",value:function(e){var t=this;e.Connect({host:"prod.vidyo.io",token:"cHJvdmlzaW9uAHNhY2hpbkBlOGQ5YTMudmlkeW8uaW8ANjM2NjE1NzczNDUAADEyODk2YTc4ODc3MTY3MDFhNzNmYjg4MWNiZWY5ODhiZjRkZTkxMDcyZjI1NTY3ZmJjNDdkNjg1MGJiMGMwN2JmYjZkMjA5Yzk4YmFlMzhjZTNlOWYwM2U2ZDhjNTZkMQ==",displayName:"sachin1",resourceId:"SachinRoom",onSuccess:function(){console.log("connected!"),t.$rootScope.$broadcast("connectedStatus",{isConnected:!0})},onFailure:function(e){console.log("failed! The reason: ",e)},onDisconnected:function(e){console.log("disconnected! Reason: ",e),t.$rootScope.$broadcast("connectedStatus",{isConnected:!1})}}).then(function(n){n?(t.handlePaticipants(e),t.receiveMessage(e)):console.error("ConnectCall Failed")}).catch(function(){console.error("ConnectCall Failed")})}},{key:"receiveMessage",value:function(e){var t=this;e.RegisterMessageEventListener({onChatMessageReceived:function(e,n){console.log("********",n),t.onSendMessage({id:e.id,name:e.name,content:n.body})}}).then(function(){console.log("RegisterParticipantEventListener Success")}).catch(function(){console.err("RegisterParticipantEventListener Failed")})}},{key:"handlePaticipants",value:function(e){var t=this;e.RegisterParticipantEventListener({onJoined:function(e){console.log("Joined",e),t.onAddUser({id:e.id,name:e.name})},onLeft:function(e){console.log("Left",e),t.onRemoveUser({id:e.id,name:e.name})},onDynamicChanged:function(e,t){},onLoudestChanged:function(e,t){}}).then(function(){console.log("RegisterParticipantEventListener Success")}).catch(function(){console.err("RegisterParticipantEventListener Failed")})}}]),e}();r.$inject=["$timeout","$rootScope"],exports.default=r},432:function(e,exports,t){var n=t(433);"string"==typeof n&&(n=[[e.id,n,""]]);t(415)(n,{});n.locals&&(e.exports=n.locals)},433:function(e,exports,t){exports=e.exports=t(414)(),exports.push([e.id,".video-area{height:60vh;overflow:auto}.video-area.expanded{height:100vh}.video-area #renderer{height:100%;width:100%}",""])},434:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(299),s=n(o),i=t(435),a=n(i),r=s.default.module("user",[]).factory("User",a.default).name;exports.default=r},435:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){var e={},t=function(){return e},n=function(){return e.isSignedIn};return{getUser:t,isSignedIn:n}};exports.default=t},436:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(299),s=n(o),i=t(437),a=n(i),r=s.default.module("app.components",[a.default]).name;exports.default=r},437:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(299),s=n(o),i=t(301),a=n(i),r=t(438),c=n(r),l=s.default.module("home",[a.default]).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";t.otherwise("/"),e.state("home",{url:"/",component:"home"})}]).component("home",c.default).name;exports.default=l},438:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(439),s=n(o),i=t(440),a=n(i);t(441);var r={restrict:"E",bindings:{},template:s.default,controller:a.default};exports.default=r},439:function(e,exports){e.exports='<sidebar \n  users="$ctrl.users"\n  on-open-chat="$ctrl.openChatWindow()"></sidebar>\n\n<div class="main-content pull-right">\n\n  <!--<replaceable \n    on-add-user="$ctrl.addUser({ id: id, name: name })" \n    on-remove-user="$ctrl.removeUser({ id: id, name: name })"\n    on-send-message="$ctrl.sendMessage({ id: id, name: name, content: content })"\n    is-chat-opened="$ctrl.isChatOpened"></replaceable>-->\n  <video-renderer \n    is-chat-opened="$ctrl.isChatOpened"\n    on-add-user="$ctrl.addUser({ id: id, name: name })"\n    on-remove-user="$ctrl.removeUser({ id: id, name: name })"\n    on-send-message="$ctrl.sendMessage({ id: id, name: name, content: content })"></video-renderer>\n\n  <message-view \n    messages="$ctrl.messages"\n    on-close-chat="$ctrl.closeChatWindow()"\n    on-send-message="$ctrl.sendMessage({ id: id, name: name, content: content })" \n    ng-if="$ctrl.isChatOpened"></message-view>\n</div>\n'},440:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(392),s=n(o),i=t(393),a=n(i),r=function(){function e(t){(0,s.default)(this,e),this.$timeout=t,this.name="home",this.users=[],this.messages=[],this.isChatOpened=!1}return(0,a.default)(e,[{key:"addUser",value:function(e){var t=this,n=this.users.findIndex(function(t){return t.id==e.id});n>-1?alert("User already exists!"):this.$timeout(function(){t.users.push(e),console.log(t.users)})}},{key:"removeUser",value:function(e){var t=this,n=this.users.findIndex(function(t){return t.id==e.id});n==-1?alert("User does not exist!"):this.$timeout(function(){t.users.splice(n,1),console.log(t.users)})}},{key:"sendMessage",value:function(e){var t=this,n=this.users.findIndex(function(t){return t.id==e.id});e.id&&n==-1?alert("Target user does not exist!"):this.$timeout(function(){t.messages.push(e),console.log(t.messages)})}},{key:"openChatWindow",value:function(){this.isChatOpened=!0}},{key:"closeChatWindow",value:function(){this.isChatOpened=!1}}]),e}();r.$inject=["$timeout"],exports.default=r},441:function(e,exports,t){var n=t(442);"string"==typeof n&&(n=[[e.id,n,""]]);t(415)(n,{});n.locals&&(e.exports=n.locals)},442:function(e,exports,t){exports=e.exports=t(414)(),exports.push([e.id,".main-content{width:80%}",""])},443:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(444),s=n(o);t(445);var i={template:s.default,restrict:"E"};exports.default=i},444:function(e,exports){e.exports='<!-- Place all UI elements intended to be present across all routes in this file -->\n<div class="app">\n  <div ui-view></div>\n</div>\n'},445:function(e,exports,t){var n=t(446);"string"==typeof n&&(n=[[e.id,n,""]]);t(415)(n,{});n.locals&&(e.exports=n.locals)},446:function(e,exports,t){exports=e.exports=t(414)(),exports.push([e.id,"@import url(http://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body{font-family:Roboto,sans-serif}.app,body{height:100%}",""])}});
//# sourceMappingURL=app.bundle.js.map